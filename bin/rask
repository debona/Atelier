#!/usr/bin/env ruby

require 'rask'

library_file = ARGV[0]

parameters = Array.new(ARGV)
parameters.shift

app = Rask::Application.new()

Kernel.send(:define_method, :library) do |name, &block|
  app.load(name, &block)
end

load(library_file)

app.run(*parameters)
